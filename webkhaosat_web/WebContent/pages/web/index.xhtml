<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets">

<h:head>

	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta name="viewport"
		content="width=device-width, initial-scale=1, shrink-to-fit=no" />
	<meta name="description" content="" />
	<meta name="author" content="" />

	<title>Admin</title>
	<style>
</style>

	<!-- Custom fonts for this template-->
	<h:outputStylesheet library="font-awesome" name="css/all.min.css" />
	<h:outputStylesheet library="font-awesome"
		name="css/fontawesome.min.css" />
	<link
		href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i"
		rel="stylesheet" />
	<!-- Custom styles for this template-->
	<h:outputStylesheet library="bootstrap"
		name="admin/css/sb-admin-2.min.css" />
	<h:outputStylesheet library="bootstrap" name="admin/css/style-css.css" />
	<!--font awesome  -->
	<link
		href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css"
		rel="stylesheet"></link>
</h:head>

<h:body id="page-top">

	<!-- Page Wrapper -->

	<div id="wrapper">
		<!-- Content Wrapper -->
		<div id="content-wrapper" class="d-flex flex-column">

			<!-- Main Content -->
			<div id="content">
				<!--Header  -->
				<h:form id="headerCustom">
					<div class="row"
						style="width: 90%; box-shadow: 0px 0px 5px #888; margin: 0 auto; margin-bottom: 15px; margin-top: 20px; border-radius: 5px; background-color: #e4e4e4">

						<div class="row" style="width: 100%">
							<a
								href="http://192.168.0.132:8380/webkhaosat_web/pages/trangchu.jsf" style="margin-left: 20px;"><button
									type="button" class="btn btn-primary" style="margin-top: 20px;">Trang chủ</button></a>
						</div>
						<hr width="97%" style="border-top: 1px solid #9c7e7e" />

						<div class="row"
							style="width: 100%; margin-bottom: 45px; font-weight: bold">
							<span class="group-name"
								style="margin: 0 auto; color: black; margin-top: 20px">DANH
								SÁCH CÁC KỲ KHẢO SÁT</span> <span class="group-description"><p
									style="text-align: center; margin-left: 5px"></p></span> <br />
						</div>
						<div class="row"
							style="width: 80%; margin-left: 0px; margin: 0 auto">
							
							<p:dataTable id="listSetofquestions" var="set1"
								value="#{questionsBean.setofquestions1}" rowKey="#{set1.id}"
								selection="#{questionsBean.setofquestionsSelected4}"
								selectionMode="single" rowIndexVar="rowIndex">
								<p:ajax event="rowSelect" 
									listener="#{questionsBean.handleListuserBySetof()}" />
								<p:column headerText="STT" style="text-align: center">
									<h:outputText value="#{rowIndex+1}" />
								</p:column>
								<p:column headerText="Tên bộ câu hỏi" style="">
									<h:outputText value="#{set1.name}" />
								</p:column>
								<p:column headerText="Ngày tạo" style="">
									<h:outputText value="#{set1.createdDate}">
										<f:convertDateTime pattern="dd.MM.yyyy" />
									</h:outputText>
								</p:column>
								<p:column headerText="Ngày bắt đầu" style="">
									<h:outputText value="#{set1.starttime}">
										<f:convertDateTime pattern="dd.MM.yyyy" />
									</h:outputText>
								</p:column>
								<p:column headerText="Ngày kết thúc" style="">
									<h:outputText value="#{set1.endtime}">
										<f:convertDateTime pattern="dd.MM.yyyy" />
									</h:outputText>
								</p:column>
								
								<p:column headerText="Sửa" style="text-align: center">
									<p:commandButton 
										icon="fa fa-edit">
										<f:setPropertyActionListener value="#{set1}"
											target="#{questionsBean.setofquestionsUpdated}" />
									</p:commandButton>
								</p:column>
								<p:column headerText="Xóa" style="text-align: center">
									<p:commandButton 
										icon="fa fa-trash"
										>
										<f:setPropertyActionListener value="#{set1}"
											target="#{questionsBean.setofquestionsDeleted}" />
									</p:commandButton>
								</p:column>
							</p:dataTable>

						</div>
					</div>


				</h:form>
			</div>
		</div>
	</div>
</h:body>

</html>